<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
</head>
<body>

<div id="app">
    <ul>
        <li v-for="(product, index) of products" v-bind:key="product.id" role="presentation">
            <input type="number" v-model.number="product.quantity" v-if="index % 2 === 0"/>
            <!--<span v-if="index % 2 != 0">{{ product.quantity }}</span> {{ product.name }}-->
            {{ index % 2 != 0 ? product.quantity : '' }} {{ product.name }}
            <button @click="product.quantity += 1">Add</button>
            <button @click="product.quantity -= 1">Reduce</button>
            <span v-if="product.quantity <= 0"> - OUT OF QUANTITY</span>
        </li>
    </ul>
    <label>total products:{{ products.length }} - total quantity:{{ totalQuantity }}</label>
    <p>
        <button @click="products.push({ name: Math.floor(Math.random() * 10 * 100), quantity: Math.floor(Math.random() * 10) })">Add</button>
        <button @click="products.pop()">Reduce</button>
    </p>
</div>

<script src="./vue-v2.5.16.js"></script>
<script>
    var app = new Vue({
        el: '#app',
        data: {
            products: [
                {
                    "id": 1,
                    "quantity": 0,
                    "name": "Banana"
                },
                {
                    "id": 2,
                    "quantity": 1,
                    "name": "Orage"
                },
                {
                    "id": 3,
                    "quantity": 2,
                    "name": "Apple"
                },
                {
                    "id": 4,
                    "quantity": 3,
                    "name": "Juce"
                }
            ]
        },
        computed: {
            totalQuantity () {
                return this.products.reduce((total, product) => {
                    return total + product.quantity
                }, 0)
            }
        },
        created () {
//            fetch('http://localhost:63342/vue/vue-pure/product-list.json?_ijt=ma0r3almdck285vu5r1c9nklt1')
//                .then(response => response.json())
//                .then(json => this.products = json.products);
        }
    });
</script>

</body>
</html>